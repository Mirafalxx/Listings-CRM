<mat-accordion class="expansion-panel">
  <div class="container-contact2">

    <form [formGroup]="RegistrationForm" (ngSubmit)="registrationUser()">
      <div class="registration-form">
        <!-- 1 -->
        <mat-expansion-panel>
          <mat-expansion-panel-header>
            <mat-panel-title>
              Зарегистрировать пользователя
            </mat-panel-title>
          </mat-expansion-panel-header>



          <mat-form-field class="example-full-width asin-input" class="test">
            <mat-label>Логин</mat-label>
            <input matInput autocomplete="off" formControlName="email">
          </mat-form-field>
          <div *ngIf="submitted && f.email.errors" class="invalid-feedback">
            <mat-label *ngIf="f.email.errors.required" class="error">Введите логин</mat-label>
          </div>


          <mat-form-field class="example-full-width asin-input" class="test">
            <mat-label>Пароль</mat-label>
            <input matInput autocomplete="off" type="password" formControlName="password">
          </mat-form-field>
          <div *ngIf="submitted && f.password.errors" class="invalid-feedback">
            <mat-label *ngIf="f.password.errors.required" class="error">Введите пароль</mat-label>
          </div>





          <mat-form-field class="example-full-width" class="test">
            <mat-label>Отдел</mat-label>
            <mat-select formControlName="department">
              <mat-option *ngFor="let departments of department" [value]="departments.value">
                {{departments.viewValue}}
              </mat-option>
            </mat-select>
          </mat-form-field>
          <div *ngIf="submitted && f.role.errors" class="invalid-feedback">
            <mat-label *ngIf="f.role.errors.required" class="error">Выберите Отдел</mat-label>
          </div>


          <mat-form-field class="example-full-width" class="test">
            <mat-label>Роль</mat-label>
            <mat-select formControlName="role">
              <mat-option *ngFor="let roles of role" [value]="roles.value">
                {{roles.viewValue}}
              </mat-option>
            </mat-select>
          </mat-form-field>


          <button mat-flat-button color="primary" class="btn">Зарегистрировать</button>
        </mat-expansion-panel>
      </div>
    </form>

    <!-- 2 -->
    <mat-expansion-panel>
      <mat-expansion-panel-header>
        <mat-panel-title>
          Управление пользователями
        </mat-panel-title>
      </mat-expansion-panel-header>
      <table mat-table [dataSource]="dataSource" class="mat-elevation-z8">

        <ng-container matColumnDef="Login">
          <th mat-header-cell *matHeaderCellDef> Логин </th>
          <td mat-cell *matCellDef="let user">
            {{user.email}}
          </td>
        </ng-container>


        <ng-container matColumnDef="Role">
          <th mat-header-cell *matHeaderCellDef> Роль </th>
          <td mat-cell *matCellDef="let user">
            {{user.role}}
          </td>
        </ng-container>
        <ng-container matColumnDef="Edit">
          <th mat-header-cell *matHeaderCellDef></th>
          <td mat-cell *matCellDef="let user">
            <button mat-flat-button color="primary" class="btn-prob" (click)="openEditModal()">Обновить</button>
          </td>
        </ng-container>

        <tr mat-header-row *matHeaderRowDef="displayedColumns"></tr>
        <tr mat-row *matRowDef="let row; columns: displayedColumns;" (click)="onRowClicked(row)"></tr>
      </table>

    </mat-expansion-panel>


    <mat-expansion-panel>
      <mat-expansion-panel-header>
        <mat-panel-title>
          Статистика
        </mat-panel-title>
      </mat-expansion-panel-header>
      <table mat-table [dataSource]="dataSource2" class="mat-elevation-z8">

        <ng-container matColumnDef="name">
          <th mat-header-cell *matHeaderCellDef> Имя работника </th>
          <td mat-cell *matCellDef="let user">
            {{user.name}}
          </td>
        </ng-container>


        <ng-container matColumnDef="department">
          <th mat-header-cell *matHeaderCellDef> Отдел </th>
          <td mat-cell *matCellDef="let user">
            {{user.department}}
          </td>
        </ng-container>

        <ng-container matColumnDef="count">
          <th mat-header-cell *matHeaderCellDef> Количество </th>
          <td mat-cell *matCellDef="let user">
            {{user.count}}
          </td>
        </ng-container>


        <tr mat-header-row *matHeaderRowDef="displayedColumns2"></tr>
        <tr mat-row *matRowDef="let row; columns: displayedColumns2;" (click)="onRowClicked(row)"></tr>
      </table>

    </mat-expansion-panel>

  </div>
</mat-accordion>
